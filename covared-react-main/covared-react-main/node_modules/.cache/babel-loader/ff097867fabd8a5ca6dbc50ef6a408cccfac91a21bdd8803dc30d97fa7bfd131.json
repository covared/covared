{"ast":null,"code":"import _slicedToArray from\"C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{AIWriterAPI}from'./../api/AIWriterAPI';import NavBar from'./NavBar';import'./LandingPage.css';import'./Return.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Return=function Return(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),status=_useState2[0],setStatus=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),customerEmail=_useState4[0],setCustomerEmail=_useState4[1];var navigate=useNavigate();useEffect(function(){var queryString=window.location.search;var urlParams=new URLSearchParams(queryString);var sessionId=urlParams.get('session_id');if(sessionId){AIWriterAPI.checkSessionStatus(sessionId).then(function(data){setStatus(data.status);setCustomerEmail(data.customer_email);}).catch(function(error){return console.error(\"Error fetching session status:\",error);});}else{navigate(\"/checkout\");// Redirect if no session ID is found\n}},[navigate]);var loginNavigate=function loginNavigate(){navigate('/login');};if(status==='open'){navigate(\"/checkout\");return null;}if(status==='complete'){return/*#__PURE__*/_jsx(\"div\",{className:\"container \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"return-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Order Complete\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"We appreciate your business! A confirmation email will be sent to \",customerEmail,\".\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"If you have any questions, please email \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:info@breezed.co.uk\",children:\"info@breezed.co.uk\"}),\".\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-custom-standard mt-1\",onClick:loginNavigate,children:\"Get Started\"})]})]})})});}return null;};export default Return;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","AIWriterAPI","NavBar","jsx","_jsx","jsxs","_jsxs","Return","_useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","customerEmail","setCustomerEmail","navigate","queryString","window","location","search","urlParams","URLSearchParams","sessionId","get","checkSessionStatus","then","data","customer_email","catch","error","console","loginNavigate","className","children","href","onClick"],"sources":["C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/src/components/Return.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AIWriterAPI } from './../api/AIWriterAPI';\nimport NavBar from './NavBar'; \nimport './LandingPage.css';\nimport './Return.css';\n\nconst Return: React.FC = () => {\n\tconst [status, setStatus] = useState(null);\n\tconst [customerEmail, setCustomerEmail] = useState('');\n\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const sessionId = urlParams.get('session_id');\n\n    if (sessionId) {\n      AIWriterAPI.checkSessionStatus(sessionId)\n        .then((data) => {\n          setStatus(data.status);\n          setCustomerEmail(data.customer_email);\n        })\n        .catch((error) => console.error(\"Error fetching session status:\", error));\n    } else {\n      navigate(\"/checkout\"); // Redirect if no session ID is found\n    }\n  }, [navigate]);\n\n\tconst loginNavigate = () => {\n    navigate('/login');\n  }\n\n\tif (status === 'open') {\n\t\tnavigate(\"/checkout\");\n\t\treturn null;\n\t}\n\n\tif (status === 'complete') {\n\t\treturn (\n\t\t\t<div className=\"container \">\n\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t<NavBar /> \n\t\t\t\t\t\t<div className=\"return-page\">\n\t\t\t\t\t\t\t<h1>Order Complete</h1>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tWe appreciate your business! A confirmation email will be sent to {customerEmail}.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tIf you have any questions, please email <a href=\"mailto:info@breezed.co.uk\">info@breezed.co.uk</a>.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<button className=\"btn btn-custom-standard mt-1\" onClick={loginNavigate}>Get Started</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn null;\n}\n\nexport default Return;"],"mappings":"mLAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,sBAAsB,CAClD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,mBAAmB,CAC1B,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtB,GAAM,CAAAC,MAAgB,CAAG,QAAnB,CAAAA,MAAgBA,CAAA,CAAS,CAC9B,IAAAC,SAAA,CAA4BV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA0Cf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IAEtC,GAAM,CAAAG,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,UAAM,CACb,GAAM,CAAAmB,WAAW,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAC1C,GAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACL,WAAW,CAAC,CAClD,GAAM,CAAAM,SAAS,CAAGF,SAAS,CAACG,GAAG,CAAC,YAAY,CAAC,CAE7C,GAAID,SAAS,CAAE,CACbvB,WAAW,CAACyB,kBAAkB,CAACF,SAAS,CAAC,CACtCG,IAAI,CAAC,SAACC,IAAI,CAAK,CACdhB,SAAS,CAACgB,IAAI,CAACjB,MAAM,CAAC,CACtBK,gBAAgB,CAACY,IAAI,CAACC,cAAc,CAAC,CACvC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,QAAK,CAAAC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,GAAC,CAC7E,CAAC,IAAM,CACLd,QAAQ,CAAC,WAAW,CAAC,CAAE;AACzB,CACF,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEf,GAAM,CAAAgB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACzBhB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAEF,GAAIN,MAAM,GAAK,MAAM,CAAE,CACtBM,QAAQ,CAAC,WAAW,CAAC,CACrB,MAAO,KAAI,CACZ,CAEA,GAAIN,MAAM,GAAK,UAAU,CAAE,CAC1B,mBACCP,IAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC1B/B,IAAA,QAAK8B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cAC1C7B,KAAA,QAAK4B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtB/B,IAAA,CAACF,MAAM,GAAE,CAAC,cACVI,KAAA,QAAK4B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC3B/B,IAAA,OAAA+B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB7B,KAAA,MAAA6B,QAAA,EAAG,oEACgE,CAACpB,aAAa,CAAC,GAClF,EAAG,CAAC,cACJT,KAAA,MAAA6B,QAAA,EAAG,0CACsC,cAAA/B,IAAA,MAAGgC,IAAI,CAAC,2BAA2B,CAAAD,QAAA,CAAC,oBAAkB,CAAG,CAAC,IACnG,EAAG,CAAC,cACJ/B,IAAA,WAAQ8B,SAAS,CAAC,8BAA8B,CAACG,OAAO,CAAEJ,aAAc,CAAAE,QAAA,CAAC,aAAW,CAAQ,CAAC,EACzF,CAAC,EACF,CAAC,CACF,CAAC,CACF,CAAC,CAER,CAEA,MAAO,KAAI,CACZ,CAAC,CAED,cAAe,CAAA5B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}