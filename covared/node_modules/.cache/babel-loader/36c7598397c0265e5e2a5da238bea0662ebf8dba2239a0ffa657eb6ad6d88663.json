{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import NavBar from'./NavBar';import{useAuth}from'./../AuthContext';import{AIWriterAPI}from\"../api/AIWriterAPI\";import'./LandingPage.css';import'./LoginPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var images={logo:{name:\"logo\",image:\"\".concat(process.env.PUBLIC_URL,\"/Images/thumbnail2-nobg.png\")}};var LoginPage=function LoginPage(){var _useAuth=useAuth(),isLoggedIn=_useAuth.isLoggedIn;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var navigate=useNavigate();useEffect(function(){if(isLoggedIn){navigate('/report-writer');}},[]);var handleEmailChange=function handleEmailChange(event){setEmail(event.target.value);};var SendEmailCodeNavigate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();setIsLoading(true);_context.next=4;return AIWriterAPI.postEmail(email);case 4:response=_context.sent;localStorage.setItem('email',email);navigate('/check-email-code');setIsLoading(false);case 8:case\"end\":return _context.stop();}},_callee);}));return function SendEmailCodeNavigate(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:images.logo.image,alt:images.logo.name,style:{height:'10rem',width:'auto',marginTop:'5rem'}}),/*#__PURE__*/_jsx(\"h1\",{children:\"BreezEd.co.uk\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You need to log in to access the teacher tools or subscribe.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"There is no need to create a password.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter your email, then enter the one-time passcode.\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Email Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-box\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:SendEmailCodeNavigate,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:email,onChange:handleEmailChange,autoComplete:\"email\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-custom-standard\",disabled:isLoading,children:\"Login / Register with email\"})]})})]})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","NavBar","useAuth","AIWriterAPI","jsx","_jsx","jsxs","_jsxs","images","logo","name","image","concat","process","env","PUBLIC_URL","LoginPage","_useAuth","isLoggedIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","isLoading","setIsLoading","navigate","handleEmailChange","event","target","value","SendEmailCodeNavigate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","postEmail","sent","localStorage","setItem","stop","_x","apply","arguments","className","children","src","alt","style","height","width","marginTop","onSubmit","type","placeholder","onChange","autoComplete","disabled"],"sources":["C:/Users/raylite/Documents/RYA New Back up/Breezed/Code/breezed-react-main/breezed-react-main/src/components/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport NavBar from './NavBar'; \nimport { useAuth } from './../AuthContext';\nimport { AIWriterAPI } from \"../api/AIWriterAPI\";\nimport './LandingPage.css';\nimport './LoginPage.css';\n\nconst images = {\n  logo: { name: \"logo\", image: `${process.env.PUBLIC_URL}/Images/thumbnail2-nobg.png` }, \n};\n\nconst LoginPage: React.FC = () => {\n  const { isLoggedIn } = useAuth();\n  const [email, setEmail] = useState(''); \n  const [isLoading, setIsLoading] = useState(false); \n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      navigate('/report-writer');\n    }\n  }, []);\n\n\n  const handleEmailChange = (event: any) => {\n    setEmail(event.target.value);\n  };\n\n  const SendEmailCodeNavigate = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setIsLoading(true);\n    const response = await AIWriterAPI.postEmail(email);\n    localStorage.setItem('email', email);\n    navigate('/check-email-code');\n    setIsLoading(false);\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-10\">\n          <NavBar /> \n          <div className=\"page-container\">\n            <img src={images.logo.image} alt={images.logo.name} style={{ height: '10rem', width: 'auto', marginTop: '5rem' }} />\n            <h1>BreezEd.co.uk</h1>\n            <p>You need to log in to access the teacher tools or subscribe.</p>\n            <p>There is no need to create a password.</p>\n            <p>Enter your email, then enter the one-time passcode.</p>\n            <h5>Email Address</h5>\n            <div className=\"login-box\">\n              <form onSubmit={SendEmailCodeNavigate}>\n                <input type=\"email\" name=\"email\" placeholder=\"Email Address\" value={email} onChange={handleEmailChange} autoComplete=\"email\" />\n                <button className='btn btn-custom-standard' disabled={isLoading}>Login / Register with email</button>\n              </form>\n              {/* put these in later\n              <hr />\n              <button className='btn btn-custom-green'>Log in with Google</button>\n              <button className='btn btn-custom-red'>Log in with Microsoft</button>\n              */}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}